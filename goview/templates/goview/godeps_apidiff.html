{% extends "goview/base.html" %}
{% load staticfiles %}

{% block html_title %}gofed-web: {{ page.name }}{% endblock html_title %}

{% block content %}
<h2>{{ page.name }}</h2>

<div id="godeps_json_input" class="hidden">
{% autoescape off %}
{{ page.content }}
{% endautoescape %}
  <div>
    <div class="form-group">
      <label for="id_text">Godeps.json</label>
      <textarea class="form-control" cols="40" id="godeps_json" name="text" rows="8"></textarea>
    </div>
    <button id="godeps_json_submit" type="submit" class="btn btn-primary pull-right">
      <span class="glyphicon glyphicon-ok" aria-hidden="true"></span>
      Submit
    </button>
  </div>
  <input id="upload_godeps" type="file">
</div>

<div id="godeps_json_table" class="hidden">
  <div class="row vertical-align">
    <div class="col-md-6 hidden-md hidden-xs">
       <img src="{% static "goview/img/goweb-logo.jpg" %}"/>
    </div>

    <div class="col-md-6 hidden-md hidden-xs">
      <dl class="dl-horizontal">
        <dt>GoVersion</dt>
        <dd id="godeps_json_goversion">Unknown</dd>
        <dt>ImportPath</dt>
        <dd id="godeps_json_import_path">Unknown</dd>
        <dt>Packages</dt>
        <dd id="godeps_json_packages">Unknown</dd>
      </dl>
      <span id="load_spinner" style="font-size: 2em;">
        <span class="glyphicon glyphicon-repeat glyphicon-repeat-animate"></span>
      </span>
    </div>
  </div>


  <button id="godeps_json_new_input" type="submit" class="btn btn-primary pull-right">
    <span class="glyphicon glyphicon-refresh" aria-hidden="true"></span>
    New Godeps.json
  </button>

  <div id="godeps_json_div_deps" class="hidden">
    <h3>Deps APIdiff Stats</h3>
    <table class="table table-striped table-hover" class="">
      <thead>
        <tr>
          <th class="">Import Path</th>
          <th class="text-center">APIdiff Stats</th>
          <th class="text-center">APIdiff Details</th>
        </tr>
      </thead>
      <tbody id="godeps_json_table_deps">
      </tbody>
    </table>
  </div>

  <div id="godeps_json_div_unresolved" class="hidden">
    <h3>Unresolved Packages</h3>
    <table class="table table-striped table-hover" class="">
      <thead>
        <tr>
          <th class="">Import Path</th>
          <th class="">Reason</th>
        </tr>
      </thead>
      <tbody id="godeps_json_table_unresolved">
      </tbody>
    </table>
  </div>

  <div id="godeps_json_div_errors" class="hidden">
    <h3>Erros</h3>
    <table class="table table-striped table-hover" class="">
      <thead>
        <tr>
          <th class="">Package</th>
          <th class="">Error</th>
        </tr>
      </thead>
      <tbody id="godeps_json_table_errors">
      </tbody>
    </table>
  </div>


</div>

<script type="text/javascript" src="{% static "goview/js/godeps_json_apidiff.js" %}"></script>

{% endblock content %}

